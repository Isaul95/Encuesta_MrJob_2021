
--   *********************      TABLA DE JOB        ***********************+*
CREATE TABLE POLLERIA.REGISTRO_ENCUESTA (
   ID_REG_ENCUESTA NUMBER(11) NOT NULL,
   NOMBRE_COMPLETO varchar(100),
   EMAIL varchar(100),
   UBICACION varchar(200),
   TELEFONO varchar(50),
   SERVICIO varchar(200),
   OTRO varchar(200),
   Fecha_registro TIMESTAMP(6)
);
COMMIT;

--create sequence  POLLERIA.  SEQ_REG_ENCUESTA start with 1 increment by 1 maxvalue 999999999999999 minvalue 1 cycle | nocycle;
  CREATE SEQUENCE "POLLERIA"."SEQ_REGISTRO_ENCUESTA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
COMMIT;


ALTER TABLE POLLERIA.REGISTRO_ENCUESTA ADD CONSTRAINT PK_REGISTRO_ENCUESTA PRIMARY KEY (ID_REG_ENCUESTA);
COMMIT;



-- select POLLERIA.SEQ_REGISTRO_ENCUESTA.NEXTVAL AS SECUENCIA FROM DUAL;
-- SELECT POLLERIA.SEQ_REGISTRO_ENCUESTA.NEXTVAL FROM DUAL;



CREATE OR REPLACE TRIGGER POLLERIA.TRG_REGISTRO_ENCUESTA
BEFORE INSERT ON POLLERIA.REGISTRO_ENCUESTA
FOR EACH ROW
  WHEN (new.ID_REG_ENCUESTA IS NULL)
BEGIN
  :new.ID_REG_ENCUESTA := POLLERIA.SEQ_REGISTRO_ENCUESTA.NEXTVAL;
END;
/





--   *********************      TABLA DE JOBBER        ***********************+*
CREATE TABLE POLLERIA.REGISTRO_ENCUESTA_JOBER (
   ID_REG_ENCUESTA_JOBER NUMBER(11) NOT NULL,
   NOMBRE_COMPLETO varchar(100),
   EMAIL varchar(100),
   UBICACION varchar(200),
   TELEFONO varchar(50),
   SERVICIO varchar(200),
   OTRO varchar(200),
   Fecha_registro TIMESTAMP(6)
);
COMMIT;

--create sequence  POLLERIA.  SEQ_REG_ENCUESTA start with 1 increment by 1 maxvalue 999999999999999 minvalue 1 cycle | nocycle;
CREATE SEQUENCE "POLLERIA"."SEQ_REGISTRO_ENCUESTA_JOBER"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
COMMIT;


ALTER TABLE POLLERIA.REGISTRO_ENCUESTA_JOBER ADD CONSTRAINT PK_REGISTRO_ENCUESTA_JOBER PRIMARY KEY (ID_REG_ENCUESTA_JOBER);
COMMIT;



--SELECT POLLERIA.SEQ_REGISTRO_ENCUESTA_JOBER.NEXTVAL AS SECUENCIA FROM DUAL;



CREATE OR REPLACE TRIGGER POLLERIA.TRG_REGISTRO_ENCUESTA_JOBER
BEFORE INSERT ON POLLERIA.REGISTRO_ENCUESTA_JOBER
FOR EACH ROW
  WHEN (new.ID_REG_ENCUESTA_JOBER IS NULL)
BEGIN
  :new.ID_REG_ENCUESTA_JOBER := POLLERIA.SEQ_REGISTRO_ENCUESTA_JOBER.NEXTVAL;
END;
/
COMMIT;
